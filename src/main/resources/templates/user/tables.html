<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
	<head th:replace="~{fragments/header :: header}"></head>
	<body class="no-skin">

		<div class="main-container" id="main-container">
			<div th:replace="~{fragments/left :: left}">...</div>

			<div class="main-content">
				<div class="breadcrumbs" id="breadcrumbs">
					<script type="text/javascript">
						try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
					</script>

					<ul class="breadcrumb">
						<li>
							<i class="ace-icon fa fa-home home-icon"></i>
							<a href="#">Home</a>
						</li>

						<li>
							<a href="#">用户管理</a>
						</li>
						<li class="active">用户列表</li>
					</ul><!-- /.breadcrumb -->

					<div class="nav-search" id="nav-search">
						<form class="form-search">
							<span class="input-icon">
								<input type="text" placeholder="Search ..." class="nav-search-input" id="nav-search-input" autocomplete="off" />
								<i class="ace-icon fa fa-search nav-search-icon"></i>
							</span>
						</form>
					</div><!-- /.nav-search -->
				</div>

				<div class="page-content">
					<div th:replace="~{fragments/setting :: setting}"></div>

					<div class="page-header">
						<h1>
							Tables
							<small>
								<i class="ace-icon fa fa-angle-double-right"></i>
								Static &amp; Dynamic Tables
							</small>
						</h1>
					</div><!-- /.page-header -->

					<div class="row">
						<div class="col-xs-12">
				            <div class="table-header">用户列表&nbsp;&nbsp;
				                <a class="green" href="#">
				                    <i class="ace-icon fa fa-plus-circle orange bigger-130 user-add" onclick="add()"></i>
				                </a>
				            </div>
				            <div>
				                <div id="dynamic-table_wrapper" class="dataTables_wrapper form-inline no-footer">
				                    <div class="row">
				                        <div class="col-xs-6">
				                            <div class="dataTables_length" id="dynamic-table_length"><label>展示
				                                <select id="pageSize" name="dynamic-table_length" aria-controls="dynamic-table" class="form-control input-sm">
				                                    <option value="10">10</option>
				                                    <option value="25">25</option>
				                                    <option value="50">50</option>
				                                    <option value="100">100</option>
				                                </select> 条记录 </label>
				                            </div>
				                        </div>
				                    </div>
				                    <table id="dynamic-table" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid"
				                           aria-describedby="dynamic-table_info" style="font-size:14px">
				                        <thead>
				                        <tr role="row">
				                            <th tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">姓名</th>
				                            
				                            <th tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">所属部门</th>
				                            
				                            <th tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">邮箱</th>
				                            
				                            <th tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">电话</th>
				                            
				                            <th tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1"> 状态</th>
				                            <th class="sorting_disabled" rowspan="1" colspan="1" aria-label=""></th>
				                        </tr>
				                        </thead>
				                        <tbody id="userList"></tbody>
				                    </table>
				                    <div class="row" id="userPage">
				                    </div>
				                </div>
				            </div>
				        </div>
					</div><!-- /.row -->
				</div><!-- /.page-content -->
			</div><!-- /.main-content -->
			
			
			<div th:replace="~{fragments/footer :: footer}">...</div>
		</div><!-- /.main-container -->
		
		<div id="dialog-user-form" style="display: none;">
		    <form id="userForm">
		        <table class="table table-striped table-bordered table-hover dataTable no-footer" role="grid">
		            <tr>
		                <td style="width: 80px;"><label for="parentId">所在部门</label></td>
		                <td>
		                    <select id="deptSelectId" name="deptId" data-placeholder="选择部门" style="width: 200px;"></select>
		                </td>
		            </tr>
		            <tr>
		                <td><label for="userName">名称</label></td>
		                <input type="hidden" name="id" id="userId"/>
		                <td><input type="text" name="username" id="userName" value="" class="text ui-widget-content ui-corner-all"></td>
		            </tr>
		            <tr>
		                <td><label for="userMail">邮箱</label></td>
		                <td><input type="text" name="mail" id="userMail" value="" class="text ui-widget-content ui-corner-all"></td>
		            </tr>
		            <tr>
		                <td><label for="userTelephone">电话</label></td>
		                <td><input type="text" name="telephone" id="userTelephone" value="" class="text ui-widget-content ui-corner-all"></td>
		            </tr>
		            <tr>
		                <td><label for="userStatus">状态</label></td>
		                <td>
		                    <select id="userStatus" name="status" data-placeholder="选择状态" style="width: 150px;">
		                        <option value="1">有效</option>
		                        <option value="0">无效</option>
		                        <option value="2">删除</option>
		                    </select>
		                </td>
		            </tr>
		            <tr>
		                <td><label for="userRemark">备注</label></td>
		                <td><textarea name="remark" id="userRemark" class="text ui-widget-content ui-corner-all" rows="3" cols="25"></textarea></td>
		            </tr>
		        </table>
		    </form>
		</div>
		
	</body>
	
	<script type="text/javascript">
		jQuery(function($) {
			/* $(".user-add").click(function() {
	            $("#dialog-user-form").dialog({
	                model: true,
	                title: "新增用户",
	                open: function(event, ui) {
	                    $(".ui-dialog-titlebar-close", $(this).parent()).hide();
	                    optionStr = "";
	                    recursiveRenderDeptSelect(deptList, 1);
	                    $("#userForm")[0].reset();
	                    $("#deptSelectId").html(optionStr);
	                },
	                buttons : {
	                    "添加": function(e) {
	                        e.preventDefault();
	                        updateUser(true, function (data) {
	                            $("#dialog-user-form").dialog("close");
	                            loadUserList(lastClickDeptId);
	                        }, function (data) {
	                            showMessage("新增用户", data.msg, false);
	                        })
	                    },
	                    "取消": function () {
	                        $("#dialog-user-form").dialog("close");
	                    }
	                }
	            });
	        }); */
			
		});
		
		function add() {alert();
			$("#dialog-user-form").dialog({
                model: true,
                title: "新增用户",
                open: function(event, ui) {
                    $(".ui-dialog-titlebar-close", $(this).parent()).hide();
                    optionStr = "";
                    recursiveRenderDeptSelect(deptList, 1);
                    $("#userForm")[0].reset();
                    $("#deptSelectId").html(optionStr);
                },
                buttons : {
                    "添加": function(e) {
                        e.preventDefault();
                        updateUser(true, function (data) {
                            $("#dialog-user-form").dialog("close");
                            loadUserList(lastClickDeptId);
                        }, function (data) {
                            showMessage("新增用户", data.msg, false);
                        })
                    },
                    "取消": function () {
                        $("#dialog-user-form").dialog("close");
                    }
                }
            });
		}
	</script>
</html>
